{"version":3,"sources":["./src/app/portal/convenios/convenios.module.ts","./src/app/pipes/convenio.pipe.ts","./src/app/portal/convenios/convenios.component.ts","./src/app/portal/convenios/convenios.component.html"],"names":[],"mappings":"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","file":"portal-convenios-convenios-module-es2015.js","sourcesContent":["import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { NgbDropdownModule, NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { NgApexchartsModule } from \"ng-apexcharts\";\r\nimport { InlineSVGModule } from \"ng-inline-svg\";\r\nimport { DropdownMenusModule } from \"src/app/_metronic_portal/partials/content/dropdown-menus/dropdown-menus.module\";\r\nimport { ConveniosComponent } from \"./convenios.component\";\r\nimport { CRUDTableModule } from 'src/app/_metronic_portal/shared/crud-table';\r\nimport { ConvenioPipe } from \"../../pipes/convenio.pipe\";\r\n\r\n@NgModule({\r\n    declarations: [ConveniosComponent, ConvenioPipe],\r\n    imports: [\r\n      CommonModule,\r\n      RouterModule.forChild([\r\n        {\r\n          path: '',\r\n          component: ConveniosComponent,\r\n        }\r\n      ]),\r\n      DropdownMenusModule,\r\n      InlineSVGModule,\r\n      NgApexchartsModule,\r\n      NgbDropdownModule,\r\n      NgbModule,\r\n      CRUDTableModule\r\n    ],\r\n  })\r\n  export class ConveniosModule {}","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n    name: 'myfilterConvenio',\r\n    pure: false\r\n})\r\nexport class ConvenioPipe implements PipeTransform {\r\n    transform(items: any[], callback: (item: any) => boolean): any {\r\n        if (!items || !callback) {\r\n            return items;\r\n        }\r\n        return items.filter(item => callback(item));\r\n    }\r\n}","import { ChangeDetectorRef, Component, OnDestroy, OnInit,Output,EventEmitter } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { Convenio } from 'src/app/models/Convenio';\r\nimport { ConveniosService } from 'src/app/services/convenio.service';\r\nimport { UploadService } from 'src/app/services/upload.service';\r\nimport { environment } from 'src/environments/environment';\r\nimport { Observable } from 'rxjs';\r\nimport {\r\n  PaginatorState,\r\n} from 'src/app/_metronic_portal/shared/crud-table';\r\n\r\n@Component({\r\n  selector: 'app-convenios',\r\n  templateUrl: './convenios.component.html',\r\n  styleUrls: ['./convenios.component.scss']\r\n})\r\nexport class ConveniosComponent implements OnInit, OnDestroy {\r\n  paginator: PaginatorState;\r\n  isLoading: boolean;\r\n  private subscriptions: Subscription[] = [];\r\n  list: Observable<Convenio[]>;\r\n\r\n  API_URL = `${environment.apiUrl}`;\r\n\r\n  message: string;\r\n  @Output() paginate: EventEmitter<PaginatorState> = new EventEmitter();\r\n\r\n  constructor(private ref: ChangeDetectorRef, public conveniosServices: ConveniosService, private uploadService: UploadService) {  }\r\n\r\n  ngOnInit() {\r\n    this.conveniosServices.fetch();\r\n    const sb = this.conveniosServices.isLoading$.subscribe(res => this.isLoading = res);\r\n    this.subscriptions.push(sb);\r\n    this.list = this.conveniosServices.obtenerConvenios();\r\n    this.paginator = this.conveniosServices.paginator;\r\n    this.conveniosServices.fetch();\r\n  }\r\n\r\n  filterConvenio(conv: Convenio) {\r\n    return conv.mostrar == true\r\n  }\r\n\r\n    // pagination\r\n    paginate2(paginator: PaginatorState) {\r\n      this.conveniosServices.patchState({ paginator });\r\n      }\r\n  \r\n      \r\n    pageChange(num: number) {\r\n      this.paginator.page = num;\r\n      this.paginate.emit(this.paginator);\r\n      this.paginate2(this.paginator);\r\n    }\r\n  \r\n  \r\n  download(url, original): void {\r\n    this.uploadService.download(url).subscribe((x) => {\r\n        var newBlob = new Blob([x], { type: \"application/pdf\" });\r\n        const data = window.URL.createObjectURL(newBlob);\r\n        \r\n        var link = document.createElement('a');\r\n        link.href = data;\r\n        link.download = original;\r\n        link.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true, view: window }));\r\n        \r\n        setTimeout(function () {\r\n            window.URL.revokeObjectURL(data);\r\n            link.remove();\r\n        }, 100);\r\n    });\r\n  }\r\n\r\n  toArrayDocumentos(answers: object) {\r\n    return Object.keys(answers).map(key => answers[key])\r\n  }\r\n\r\n  toArrayEnlaces(answers: object) {\r\n    return Object.keys(answers).map(key => answers[key])\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach((sb) => sb.unsubscribe());\r\n  }\r\n\r\n}\r\n","<div class=\"barataria-image\"></div>\r\n\r\n<div class=\"container\">\r\n  <div class=\"row\">\r\n    <div class=\"col-md-6\" *ngFor=\"let convenio of conveniosServices.items$ | async | myfilterConvenio: filterConvenio\">\r\n      <div class=\"card card-custom bg-gray-100 card-stretch gutter-b\">\r\n        <!-- Header -->\r\n        <div class=\"card-header border-0 bg-barataria2 py-5  text-right\">\r\n          <div class=\"col-md-4 order-2 order-md-1 text-center p-0\" style=\"display: block;margin: auto;\"> \r\n            <div *ngIf=\"convenio.listDocumentos?.length > 0;then contieneEnlace else noContieneEnlace\"></div>\r\n            <ng-template #contieneEnlace>\r\n              <div class=\"p-2\" *ngFor=\"let documento of toArrayEnlaces(convenio.listDocumentos)\">\r\n                <a (click)=\"download(documento.url, documento.nombre)\" target=\"_blank\" >\r\n                  <img class=\"img-fluid img-thumbnail img-responsive\" style=\"min-height: 100px !important;\" alt=\"Logo\" src={{convenio.imagenServidorBase64}} />\r\n                </a>\r\n              </div>\r\n            </ng-template>\r\n            <ng-template #noContieneEnlace>\r\n              <img class=\"img-fluid img-thumbnail img-responsive\" style=\"min-height: 100px !important;\" alt=\"Logo\" src={{convenio.imagenServidorBase64}} />\r\n            </ng-template> \r\n          </div>\r\n          \r\n          <div class=\"col-md-8 order-1 order-md-2\">\r\n            <div class=\"text-center mb-5 pt-5\">\r\n              <div *ngIf=\"convenio.listDocumentos?.length > 0;then contieneEnlace2 else noContieneEnlace2\"></div>\r\n              <ng-template #contieneEnlace2>\r\n                <div class=\"p-2\" *ngFor=\"let documento of toArrayEnlaces(convenio.listDocumentos)\">\r\n                  <a (click)=\"download(documento.url, documento.nombre)\" target=\"_blank\"  class=\"stretched-link\"><h1 class=\"display-4\">{{convenio.titulo}}</h1></a>\r\n                </div>\r\n              </ng-template>\r\n              <ng-template #noContieneEnlace2>\r\n                <h1 class=\"font-weight-bolder mb-0\">{{convenio.titulo}}</h1>\r\n              </ng-template> \r\n            </div>\r\n          </div>\r\n  \r\n        </div>\r\n        <!-- Body -->\r\n        <div class=\"card-body p-0 position-relative overflow-hidden\">\r\n          <div id=\"kt_mixed_widget_1_chart\" class=\"card-rounded-bottom bg-barataria2\" [style.height]=\"'50px'\">\r\n          </div>\r\n          <!--begin::Stats-->\r\n          <div class=\"card-spacer mt-n25\">\r\n            <!--begin::Row-->\r\n            <div class=\"row m-0\">\r\n              <div class=\"col bg-white px-6 py-8 rounded-xl mb-7\" style=\"border: 3px solid #D6CDA4;\">\r\n                <p class=\"text-dark font-weight-bold font-size-h6\">{{convenio.texto}}</p>\r\n              </div>\r\n            </div>\r\n            <!--end::Row-->\r\n            <div ngbDropdown *ngIf=\"convenio.listEnlaces?.length > 0\" class=\"row\">\r\n              <div *ngFor=\"let enlace of toArrayDocumentos(convenio.listEnlaces)\" class=\"col-12 px-4 py-2\">\r\n                <a href=\"{{enlace.url}}\" target=\"_blank\" class=\"stretched-link \"><i class=\"fas fa-globe\"></i><span class=\"ml-2\">{{enlace.nombre}}</span></a>\r\n            </div>\r\n            </div>\r\n\r\n          </div>\r\n          <!--end::Stats-->\r\n        </div>\r\n      </div>\r\n    </div>\r\n</div>\r\n\r\n<div class=\"row\" *ngIf=\"(list | async)?.length > 10\">\r\n  <div class=\"col-12 text-center py-2\">\r\n    <div class=\"py-2 mr-3 text-center\">\r\n      <ng-pagination\r\n        [collectionSize]=\"paginator.total\"\r\n        [(page)]=\"paginator.page\"\r\n        [maxSize]=\"4\"\r\n        [rotate]=\"true\"\r\n        [boundaryLinks]=\"true\"\r\n        [pageSize]=\"paginator.pageSize\"\r\n        (pageChange)=\"pageChange($event)\"\r\n      ></ng-pagination>\r\n    </div>\r\n  </div>\r\n</div>\r\n\r\n</div>\r\n\r\n\r\n   "],"sourceRoot":"webpack:///"}