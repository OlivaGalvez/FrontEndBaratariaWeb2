{"version":3,"sources":["./src/app/_fake/index.js","./src/app/portal/convenios/convenios.module.ts","./src/app/_fake/fake-helpers/http-extenstions.ts","./src/app/services/upload.service.ts","./src/app/portal/convenios/convenios.component.ts","./src/app/portal/convenios/convenios.component.html"],"names":[],"mappings":";;;;;;;;;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgD;AAChD,iC;;;;;;;;;;;;ACDA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA+C;AACN;AACM;AAC2B;AACvB;AACH;AACqE;AAC1D;;;AAmBlD,MAAM,eAAe;;8FAAf,eAAe;wJAAf,eAAe,kBAfjB;YACP,4DAAY;YACZ,4DAAY,CAAC,QAAQ,CAAC;gBACpB;oBACE,IAAI,EAAE,EAAE;oBACR,SAAS,EAAE,uEAAkB;iBAC9B;aACF,CAAC;YACF,iIAAmB;YACnB,6DAAe;YACf,gEAAkB;YAClB,4EAAiB;YACjB,oEAAS;SACV;mIAEU,eAAe,mBAhBX,uEAAkB,aAE/B,4DAAY,gEAOZ,iIAAmB;QACnB,6DAAe;QACf,gEAAkB;QAClB,4EAAiB;QACjB,oEAAS;6FAGA,eAAe;cAjB7B,sDAAQ;eAAC;gBACN,YAAY,EAAE,CAAC,uEAAkB,CAAC;gBAClC,OAAO,EAAE;oBACP,4DAAY;oBACZ,4DAAY,CAAC,QAAQ,CAAC;wBACpB;4BACE,IAAI,EAAE,EAAE;4BACR,SAAS,EAAE,uEAAkB;yBAC9B;qBACF,CAAC;oBACF,iIAAmB;oBACnB,6DAAe;oBACf,gEAAkB;oBAClB,4EAAiB;oBACjB,oEAAS;iBACV;aACF;;;;;;;;;;;;;;ACvBH;AAAA;AAAA;AAAA;AAAA;AAAO,SAAS,UAAU,CAAC,QAAe,EAAE,UAAuB;IACjE,aAAa;IACb,IAAI,cAAc,GAAG,WAAW,CAAC,QAAQ,EAAE,UAAU,CAAC,CAAC;IACvD,SAAS;IACT,cAAc,GAAG,aAAa,CAAC,cAAc,EAAE,UAAU,CAAC,UAAU,CAAC,CAAC;IAEtE,UAAU;IACV,QAAQ;IACR,IAAI,UAAU,CAAC,OAAO,CAAC,MAAM,EAAE;QAC7B,cAAc,GAAG,SAAS,CAAC,cAAc,EAAE,UAAU,CAAC,OAAO,CAAC,MAAM,EAAE,UAAU,CAAC,OAAO,CAAC,SAAS,CAAC,CAAC;KACrG;IACD,MAAM;IAEN,YAAY;IACZ,QAAQ;IACR,MAAM,UAAU,GAAG,cAAc,CAAC,MAAM,CAAC;IACzC,MAAM,aAAa,GAAG,CAAC,UAAU,CAAC,SAAS,CAAC,IAAI,GAAG,CAAC,CAAC,GAAG,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC;IACtF,MAAM,WAAW,GAAG,aAAa,GAAG,UAAU,CAAC,SAAS,CAAC,QAAQ,CAAC;IAClE,cAAc,GAAG,cAAc,CAAC,KAAK,CAAC,aAAa,EAAE,WAAW,CAAC,CAAC;IAClE,MAAM;IAEN,MAAM,WAAW,GAAG;QAClB,KAAK,EAAE,cAAc;QACrB,KAAK,EAAE,UAAU;KAClB,CAAC;IACF,OAAO,WAAW,CAAC;AACrB,CAAC;AAEM,SAAS,SAAS,CAAC,aAAoB,EAAE,YAAoB,EAAE,EAAE,YAAoB,KAAK;IAC/F,IAAI,CAAC,SAAS,EAAE;QACd,OAAO,aAAa,CAAC;KACtB;IAED,IAAI,MAAM,GAAU,EAAE,CAAC;IACvB,MAAM,GAAG,aAAa,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,CAAC,EAAE,EAAE;QACnC,IAAI,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,EAAE;YAC/B,OAAO,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACrC;QAED,IAAI,CAAC,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,EAAE;YAC/B,OAAO,SAAS,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;SACrC;QAED,OAAO,CAAC,CAAC;IACX,CAAC,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AAChB,CAAC;AAEM,SAAS,WAAW,CAAC,aAAoB,EAAE,UAAuB;IACvE,IAAI,CAAC,UAAU,IAAI,CAAC,UAAU,CAAC,MAAM,EAAE;QACrC,OAAO,aAAa,CAAC;KACtB;IAED,IAAI,MAAM,GAAU,aAAa,CAAC;IAClC,MAAM,gBAAgB,GAAG,MAAM,CAAC,IAAI,CAAC,UAAU,CAAC,MAAM,CAAC,CAAC;IACxD,gBAAgB,CAAC,OAAO,CAAC,CAAC,OAAe,EAAE,EAAE;QAC3C,yCAAyC;QACzC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,OAAO,CAAC,IAAI,UAAU,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC,CAAC;IAC1E,CAAC,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AAChB,CAAC;AAEM,SAAS,aAAa,CAAC,aAAoB,EAAE,aAAqB,EAAE;IACzE,IAAI,CAAC,UAAU,EAAE;QACf,OAAO,aAAa,CAAC;KACtB;IAED,MAAM,wBAAwB,GAAG,EAAE,MAAM,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAE,CAAC;IAC1D,MAAM,MAAM,GAAG,aAAa,CAAC,MAAM,CAAC,GAAG,CAAC,EAAE;QACxC,IAAI,gBAAgB,GAAG,KAAK,CAAC;QAC7B,MAAM,IAAI,GAAG,MAAM,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC,MAAM,CAAC,OAAO,CAAC,EAAE,CAAC,wBAAwB,CAAC,OAAO,GAAG,CAAC,OAAO,CAAC,CAAC,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;QAC/G,KAAK,MAAM,OAAO,IAAI,IAAI,EAAE;YAC1B,IAAI,GAAG,CAAC,OAAO,CAAC,CAAC,QAAQ,EAAE,CAAC,WAAW,EAAE,CAAC,OAAO,CAAC,UAAU,CAAC,GAAG,CAAC,CAAC,EAAE;gBAClE,gBAAgB,GAAG,IAAI,CAAC;gBACxB,MAAM;aACP;SACF;QACD,OAAO,gBAAgB,CAAC;IAC1B,CAAC,CAAC,CAAC;IACH,OAAO,MAAM,CAAC;AAChB,CAAC;;;;;;;;;;;;;AClFD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAA2C;AAEC;AACA;AACe;;;AAIpD,MAAM,aAAa;IAItB,YAAoB,IAAe;QAAf,SAAI,GAAJ,IAAI,CAAW;QAFnC,YAAO,GAAG,GAAG,wEAAW,CAAC,MAAM,EAAE,GAAG,WAAW,CAAC;IAET,CAAC;IAExC,YAAY,CAAC,IAAI;QAEb,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAEhC,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAEzC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,yBAAyB,EAAE,QAAQ,EAAE;YACxE,cAAc,EAAE,IAAI;YACpB,OAAO,EAAE,QAAQ;SAClB,CAAC,CAAC,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;IACxC,CAAC;IAGD,eAAe,CAAC,IAAI;QAElB,MAAM,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAEhC,QAAQ,CAAC,MAAM,CAAC,MAAM,EAAE,IAAI,EAAE,IAAI,CAAC,IAAI,CAAC,CAAC;QAEzC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,OAAO,GAAG,2BAA2B,EAAE,QAAQ,EAAE;YAC1E,cAAc,EAAE,IAAI;YACpB,OAAO,EAAE,QAAQ;SAClB,CAAC,CAAC,IAAI,CAAC,iEAAU,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC,CAAC;IACtC,CAAC;IAED,QAAQ,CAAC,OAAe;QAEtB,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,CAAC,OAAO,GAAG,mBAAmB,GAAG,OAAO,EAAE,EAAE,YAAY,EAAE,MAAM,EAAC,CAAC,CAAC;IAC9F,CAAC;IAGD,SAAS,CAAC,KAAwB;QAChC,IAAI,YAAY,GAAG,EAAE,CAAC;QACtB,IAAI,KAAK,CAAC,KAAK,YAAY,UAAU,EAAE;YACrC,wBAAwB;YACxB,YAAY,GAAG,KAAK,CAAC,KAAK,CAAC,OAAO,CAAC;SACpC;aAAM;YACL,wBAAwB;YACxB,YAAY,GAAG,eAAe,KAAK,CAAC,MAAM,cAAc,KAAK,CAAC,OAAO,EAAE,CAAC;SACzE;QACD,OAAO,CAAC,GAAG,CAAC,YAAY,CAAC,CAAC;QAC1B,OAAO,uDAAU,CAAC,GAAG,EAAE;YACrB,OAAO,YAAY,CAAC;QACtB,CAAC,CAAC,CAAC;IACL,CAAC;;0EAlDQ,aAAa;gGAAb,aAAa,WAAb,aAAa,mBAFZ,MAAM;6FAEP,aAAa;cAHzB,wDAAU;eAAC;gBACV,UAAU,EAAE,MAAM;aACnB;;;;;;;;;;;;;;ACPD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAgF;AAKrB;;;;;;;ICI3C,iEAA8F;;;IAE5F,0EACE;IAAA,wEACE;IAAA,qEACF;IAAA,4DAAI;IACN,4DAAM;;;;IAHD,0DAAqB;IAArB,wJAAqB;IAC+E,0DAAqC;IAArC,yKAAqC;;;IAF9I,mIAIM;;;;IAJ8B,mHAAuC;;;IAO3E,qEACF;;;IADuG,yKAAqC;;;IAMxI,iEAAgG;;;IAE9F,0EACE;IAAA,wEAA2E;IAAA,qEAAK;IAAA,uDAAmB;IAAA,4DAAK;IAAA,4DAAI;IAC9G,4DAAM;;;;IADD,0DAAqB;IAArB,wJAAqB;IAAwD,0DAAmB;IAAnB,mFAAmB;;;IADrG,oIAEM;;;;IAF8B,mHAAuC;;;IAK3E,yEAA+C;IAAA,uDAAmB;IAAA,4DAAK;;;IAAxB,0DAAmB;IAAnB,mFAAmB;;;;IAoB1E,0EACE;IAAA,wEAAoG;IAAjG,6YAAmD;IAA8C,mEAAgC;IAAA,uDAAoB;IAAA,4DAAI;IAChK,4DAAM;;;IADkI,0DAAoB;IAApB,qFAAoB;;;IAF5J,0EACE;IAAA,4HAEI;IACN,4DAAM;;;;IAHuB,0DAA6C;IAA7C,0HAA6C;;;IAlDlF,yEACE;IAAA,yEACE;IACA,yEAIM;IAAA,yEACE;IAAA,oHAA8F;IAC9F,gNAMc;IACd,gNAEc;IAChB,4DAAM;IAER,yEACI;IAAA,2EACI;IAAA,sHAAgG;IAChG,mNAIc;IACd,mNAEc;IAClB,4DAAM;IACV,4DAAM;IAEV,4DAAM;IAEN,2EACE;IAAA,sEACM;IAEN,2EACE;IACA,2EACE;IAAA,2EACE;IAAA,yEAAmD;IAAA,wDAAkB;IAAA,4DAAI;IAC3E,4DAAM;IACR,4DAAM;IAEN,uHAIM;IAER,4DAAM;IAER,4DAAM;IACR,4DAAM;IACR,4DAAM;;;;;;;IAnDY,0DAAuC;IAAvC,+IAAuC;IAenC,0DAAuC;IAAvC,+IAAuC;IAeoB,0DAAuB;IAAvB,2EAAuB;IAOzC,0DAAkB;IAAlB,kFAAkB;IAIvD,0DAAyC;IAAzC,qJAAyC;;ADtChE,MAAM,kBAAkB;IAS7B,YAAoB,GAAsB,EAAS,iBAAmC,EAAU,aAA4B;QAAxG,QAAG,GAAH,GAAG,CAAmB;QAAS,sBAAiB,GAAjB,iBAAiB,CAAkB;QAAU,kBAAa,GAAb,aAAa,CAAe;QAPpH,kBAAa,GAAmB,EAAE,CAAC;QAE3C,YAAO,GAAG,GAAG,wEAAW,CAAC,MAAM,EAAE,CAAC;IAK+F,CAAC;IAElI,QAAQ;QACN,MAAM,EAAE,GAAG,IAAI,CAAC,iBAAiB,CAAC,gBAAgB,EAAE,CAAC,SAAS,CAAC,GAAG,CAAC,EAAE;YACnE,IAAI,CAAC,IAAI,GAAG,GAAG,CAAC;QAClB,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,aAAa,CAAC,IAAI,CAAC,EAAE,CAAC,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,aAAa,EAAE,CAAC;IAC3B,CAAC;IAGD,QAAQ,CAAC,GAAG,EAAE,QAAQ;QACpB,IAAI,CAAC,aAAa,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,EAAE;YAC7C,IAAI,OAAO,GAAG,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,IAAI,EAAE,iBAAiB,EAAE,CAAC,CAAC;YACzD,MAAM,IAAI,GAAG,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;YAEjD,IAAI,IAAI,GAAG,QAAQ,CAAC,aAAa,CAAC,GAAG,CAAC,CAAC;YACvC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACjB,IAAI,CAAC,QAAQ,GAAG,QAAQ,CAAC;YACzB,IAAI,CAAC,aAAa,CAAC,IAAI,UAAU,CAAC,OAAO,EAAE,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,IAAI,EAAE,MAAM,EAAE,CAAC,CAAC,CAAC;YAE/F,UAAU,CAAC;gBACP,MAAM,CAAC,GAAG,CAAC,eAAe,CAAC,IAAI,CAAC,CAAC;gBACjC,IAAI,CAAC,MAAM,EAAE,CAAC;YAClB,CAAC,EAAE,GAAG,CAAC,CAAC;QACZ,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iBAAiB,CAAC,OAAe;QAC/B,OAAO,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACtD,CAAC;IAED,cAAc,CAAC,OAAe;QAC5B,OAAO,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,GAAG,CAAC,GAAG,CAAC,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,CAAC;IACtD,CAAC;IAED,WAAW;QACT,IAAI,CAAC,aAAa,CAAC,OAAO,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,WAAW,EAAE,CAAC,CAAC;IACvD,CAAC;;oFA/CU,kBAAkB;kGAAlB,kBAAkB;QCZ/B,yEACI;QAAA,gHA2DM;QACR,4DAAM;;QA5DuC,0DAAO;QAAP,6EAAO;;6FDWzC,kBAAkB;cAL9B,uDAAS;eAAC;gBACT,QAAQ,EAAE,eAAe;gBACzB,WAAW,EAAE,4BAA4B;gBACzC,SAAS,EAAE,CAAC,4BAA4B,CAAC;aAC1C","file":"portal-convenios-convenios-module-es2015.js","sourcesContent":["export * from \"./fake-helpers/http-extenstions\";\n//# sourceMappingURL=index.js.map","import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { NgbDropdownModule, NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { NgApexchartsModule } from \"ng-apexcharts\";\r\nimport { InlineSVGModule } from \"ng-inline-svg\";\r\nimport { DropdownMenusModule } from \"src/app/_metronic_portal/partials/content/dropdown-menus/dropdown-menus.module\";\r\nimport { ConveniosComponent } from \"./convenios.component\";\r\n\r\n@NgModule({\r\n    declarations: [ConveniosComponent],\r\n    imports: [\r\n      CommonModule,\r\n      RouterModule.forChild([\r\n        {\r\n          path: '',\r\n          component: ConveniosComponent,\r\n        }\r\n      ]),\r\n      DropdownMenusModule,\r\n      InlineSVGModule,\r\n      NgApexchartsModule,\r\n      NgbDropdownModule,\r\n      NgbModule\r\n    ],\r\n  })\r\n  export class ConveniosModule {}","import { ITableState } from '../../_metronic_portal/shared/crud-table';\r\n\r\nexport function baseFilter(entities: any[], requestObj: ITableState) {\r\n  // Filtration\r\n  let entitiesResult = filterArray(entities, requestObj);\r\n  // Search\r\n  entitiesResult = searchInArray(entitiesResult, requestObj.searchTerm);\r\n\r\n  // Sorting\r\n  // start\r\n  if (requestObj.sorting.column) {\r\n    entitiesResult = sortArray(entitiesResult, requestObj.sorting.column, requestObj.sorting.direction);\r\n  }\r\n  // end\r\n\r\n  // Paginator\r\n  // start\r\n  const totalCount = entitiesResult.length;\r\n  const startPosition = (requestObj.paginator.page - 1) * requestObj.paginator.pageSize;\r\n  const endPosition = startPosition + requestObj.paginator.pageSize;\r\n  entitiesResult = entitiesResult.slice(startPosition, endPosition);\r\n  // end\r\n\r\n  const responseObj = {\r\n    items: entitiesResult,\r\n    total: totalCount\r\n  };\r\n  return responseObj;\r\n}\r\n\r\nexport function sortArray(incomingArray: any[], sortField: string = '', sortOrder: string = 'asc'): any[] {\r\n  if (!sortField) {\r\n    return incomingArray;\r\n  }\r\n\r\n  let result: any[] = [];\r\n  result = incomingArray.sort((a, b) => {\r\n    if (a[sortField] < b[sortField]) {\r\n      return sortOrder === 'asc' ? -1 : 1;\r\n    }\r\n\r\n    if (a[sortField] > b[sortField]) {\r\n      return sortOrder === 'asc' ? 1 : -1;\r\n    }\r\n\r\n    return 0;\r\n  });\r\n  return result;\r\n}\r\n\r\nexport function filterArray(incomingArray: any[], requestObj: ITableState): any[] {\r\n  if (!requestObj || !requestObj.filter) {\r\n    return incomingArray;\r\n  }\r\n\r\n  let result: any[] = incomingArray;\r\n  const filtrationFields = Object.keys(requestObj.filter);\r\n  filtrationFields.forEach((keyName: string) => {\r\n    // tslint:disable-next-line:triple-equals\r\n    result = result.filter(el => el[keyName] == requestObj.filter[keyName]);\r\n  });\r\n  return result;\r\n}\r\n\r\nexport function searchInArray(incomingArray: any[], searchTerm: string = ''): any[] {\r\n  if (!searchTerm) {\r\n    return incomingArray;\r\n  }\r\n\r\n  const acceptableForSearchTypes = { number: 1, string: 2 };\r\n  const result = incomingArray.filter(row => {\r\n    let termIsFoundInRow = false;\r\n    const keys = Object.keys(row).filter(keyName => acceptableForSearchTypes[typeof row[keyName]] && row[keyName]);\r\n    for (const keyName of keys) {\r\n      if (row[keyName].toString().toLowerCase().indexOf(searchTerm) > -1) {\r\n        termIsFoundInRow = true;\r\n        break;\r\n      }\r\n    }\r\n    return termIsFoundInRow;\r\n  });\r\n  return result;\r\n}\r\n","import { Injectable } from '@angular/core';\r\nimport {HttpClient, HttpErrorResponse} from '@angular/common/http';\r\nimport {Observable, throwError} from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\nimport { environment } from 'src/environments/environment';\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class UploadService {\r\n    \r\n    API_URL = `${environment.apiUrl}` + 'api/File/';\r\n      \r\n    constructor(private http:HttpClient) { }\r\n    \r\n    uploadImagen(file):Observable<any> {\r\n    \r\n        const formData = new FormData(); \r\n          \r\n        formData.append(\"file\", file, file.name);\r\n\r\n        return this.http.post(this.API_URL + \"Upload?carpeta=imagenes\", formData, {\r\n          reportProgress: true,\r\n          observe: 'events',\r\n        }).pipe(catchError(this.errorMgmt));\r\n    } \r\n\r\n\r\n    uploadDocumento(file):Observable<any> {\r\n    \r\n      const formData = new FormData(); \r\n        \r\n      formData.append(\"file\", file, file.name);\r\n\r\n      return this.http.post(this.API_URL + \"Upload?carpeta=documentos\", formData, {\r\n        reportProgress: true,\r\n        observe: 'events',\r\n      }).pipe(catchError(this.errorMgmt));\r\n    } \r\n\r\n    download(fileUrl: string): Observable<Blob> {\r\n      \r\n      return this.http.get(this.API_URL + 'Download?fileUrl=' + fileUrl, { responseType: 'blob'});\r\n    }\r\n\r\n\r\n    errorMgmt(error: HttpErrorResponse) {\r\n      let errorMessage = '';\r\n      if (error.error instanceof ErrorEvent) {\r\n        // Get client-side error\r\n        errorMessage = error.error.message;\r\n      } else {\r\n        // Get server-side error\r\n        errorMessage = `Error Code: ${error.status}\\nMessage: ${error.message}`;\r\n      }\r\n      console.log(errorMessage);\r\n      return throwError(() => {\r\n        return errorMessage;\r\n      });\r\n    }\r\n\r\n  }","import { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { Subscription } from 'rxjs';\r\nimport { Convenio } from 'src/app/models/Convenio';\r\nimport { ConveniosService } from 'src/app/services/convenio.service';\r\nimport { UploadService } from 'src/app/services/upload.service';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-convenios',\r\n  templateUrl: './convenios.component.html',\r\n  styleUrls: ['./convenios.component.scss']\r\n})\r\nexport class ConveniosComponent implements OnInit, OnDestroy {\r\n\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  API_URL = `${environment.apiUrl}`;\r\n  list: Convenio [];\r\n\r\n  message: string;\r\n\r\n  constructor(private ref: ChangeDetectorRef, public conveniosServices: ConveniosService, private uploadService: UploadService) {  }\r\n\r\n  ngOnInit() {\r\n    const sb = this.conveniosServices.obtenerConvenios().subscribe(res => {\r\n      this.list = res;\r\n    });\r\n    this.subscriptions.push(sb);\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  \r\n  download(url, original): void {\r\n    this.uploadService.download(url).subscribe((x) => {\r\n        var newBlob = new Blob([x], { type: \"application/pdf\" });\r\n        const data = window.URL.createObjectURL(newBlob);\r\n        \r\n        var link = document.createElement('a');\r\n        link.href = data;\r\n        link.download = original;\r\n        link.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true, view: window }));\r\n        \r\n        setTimeout(function () {\r\n            window.URL.revokeObjectURL(data);\r\n            link.remove();\r\n        }, 100);\r\n    });\r\n  }\r\n\r\n  toArrayDocumentos(answers: object) {\r\n    return Object.keys(answers).map(key => answers[key])\r\n  }\r\n\r\n  toArrayEnlaces(answers: object) {\r\n    return Object.keys(answers).map(key => answers[key])\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach((sb) => sb.unsubscribe());\r\n  }\r\n\r\n}\r\n","<div class=\"row\">\r\n    <div class=\"col-md-6\" *ngFor=\"let convenio of list\">\r\n      <div class=\"card card-custom bg-gray-100 card-stretch gutter-b\">\r\n        <!-- Header -->\r\n        <div class=\"card-header border-0 bg-barataria py-5  text-right\">\r\n\r\n            \r\n  \r\n              <div class=\"col-md-4 order-2 order-md-1 text-center p-0\" style=\"display: block;margin: auto;\"> \r\n                <div *ngIf=\"convenio.listEnlaces?.length > 0;then contieneEnlace else noContieneEnlace\"></div>\r\n                <ng-template #contieneEnlace>\r\n                  <div class=\"p-2\" *ngFor=\"let enlace of toArrayEnlaces(convenio.listEnlaces)\">\r\n                    <a href=\"{{enlace.url}}\" target=\"_blank\">\r\n                      <img class=\"img-fluid img-thumbnail img-responsive\" style=\"min-height: 100px !important;\" alt=\"Logo\" src={{convenio.imagenServidorBase64}} />\r\n                    </a>\r\n                  </div>\r\n                </ng-template>\r\n                <ng-template #noContieneEnlace>\r\n                  <img class=\"img-fluid img-thumbnail img-responsive\" style=\"min-height: 100px !important;\" alt=\"Logo\" src={{convenio.imagenServidorBase64}} />\r\n                </ng-template> \r\n              </div>\r\n          \r\n            <div class=\"col-md-8 order-1 order-md-2\">\r\n                <div class=\"text-center mb-5 pt-10\">\r\n                    <div *ngIf=\"convenio.listEnlaces?.length > 0;then contieneEnlace2 else noContieneEnlace2\"></div>\r\n                    <ng-template #contieneEnlace2>\r\n                      <div class=\"p-2\" *ngFor=\"let enlace of toArrayEnlaces(convenio.listEnlaces)\">\r\n                        <a href=\"{{enlace.url}}\" target=\"_blank\" class=\"stretched-link text-white\"><h2 >{{convenio.titulo}}</h2></a>\r\n                      </div>\r\n                    </ng-template>\r\n                    <ng-template #noContieneEnlace2>\r\n                      <h2 class=\"font-weight-bolder text-white mb-0\">{{convenio.titulo}}</h2>\r\n                    </ng-template> \r\n                </div>\r\n            </div>\r\n  \r\n        </div>\r\n        <!-- Body -->\r\n        <div class=\"card-body p-0 position-relative overflow-hidden\">\r\n          <div id=\"kt_mixed_widget_1_chart\" class=\"card-rounded-bottom bg-barataria\" [style.height]=\"'50px'\">\r\n          </div>\r\n          <!--begin::Stats-->\r\n          <div class=\"card-spacer mt-n25\">\r\n            <!--begin::Row-->\r\n            <div class=\"row m-0\">\r\n              <div class=\"col bg-white px-6 py-8 rounded-xl mr-7 mb-7\" style=\"border: 3px solid #027762;\">\r\n                <p class=\"text-dark font-weight-bold font-size-h6\">{{convenio.texto}}</p>\r\n              </div>\r\n            </div>\r\n            <!--end::Row-->\r\n            <div ngbDropdown *ngIf=\"convenio.listDocumentos?.length > 0\" class=\"row\">\r\n              <div *ngFor=\"let documento of toArrayDocumentos(convenio.listDocumentos)\" class=\"col-12 px-4 py-2\">\r\n                <a (click)=\"download(documento.url, documento.nombre)\" target=\"_blank\" class=\"g-color-gray-dark-v4\"><i class=\"far fa-file mr-4\"></i>{{documento.nombre}}</a>\r\n            </div>\r\n            </div>\r\n\r\n          </div>\r\n          <!--end::Stats-->\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n   "],"sourceRoot":"webpack:///"}