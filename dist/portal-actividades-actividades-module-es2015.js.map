{"version":3,"sources":["./src/app/portal/actividades/actividades.component.ts","./src/app/portal/actividades/actividades.component.html","./src/app/portal/actividades/actividades.module.ts"],"names":[],"mappings":"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","file":"portal-actividades-actividades-module-es2015.js","sourcesContent":["import { ChangeDetectorRef, Component, OnDestroy, OnInit } from '@angular/core';\r\nimport * as moment from 'moment';\r\nimport { Subscription } from 'rxjs';\r\nimport { Actividad } from 'src/app/models/Actividad';\r\nimport { ActividadesService } from 'src/app/services/actividad.service';\r\nimport { UploadService } from 'src/app/services/upload.service';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Component({\r\n  selector: 'app-actividades',\r\n  templateUrl: './actividades.component.html',\r\n  styleUrls: ['./actividades.component.scss']\r\n})\r\nexport class ActividadesComponent implements OnInit, OnDestroy {\r\n  private subscriptions: Subscription[] = [];\r\n\r\n  API_URL = `${environment.apiUrl}`;\r\n  list: Actividad [];\r\n\r\n  message: string;\r\n\r\n  constructor(private ref: ChangeDetectorRef, public actividadesService: ActividadesService, private uploadService: UploadService) {  }\r\n\r\n  ngOnInit() {\r\n    const sb = this.actividadesService.obtenerActividades().subscribe(res => {\r\n      this.list = res;\r\n    });\r\n    this.subscriptions.push(sb);\r\n    this.ref.detectChanges();\r\n  }\r\n\r\n  \r\n  download(url, original): void {\r\n    this.uploadService.download(url).subscribe((x) => {\r\n        var newBlob = new Blob([x], { type: \"application/pdf\" });\r\n        const data = window.URL.createObjectURL(newBlob);\r\n        \r\n        var link = document.createElement('a');\r\n        link.href = data;\r\n        link.download = original;\r\n        link.dispatchEvent(new MouseEvent('click', { bubbles: true, cancelable: true, view: window }));\r\n        \r\n        setTimeout(function () {\r\n            window.URL.revokeObjectURL(data);\r\n            link.remove();\r\n        }, 100);\r\n    });\r\n  }\r\n\r\n  convertDate (actividad : Actividad)\r\n  {\r\n    let cadena = \"\";\r\n    let fechaInicio = moment(actividad.fechaInicio).add(-1, 'M').locale('es');\r\n   \r\n    if (actividad.fechaInicio != null) {\r\n      cadena = fechaInicio.format('DD') + \" de \" + fechaInicio.format('MMMM') + \" del \" + fechaInicio.format('YYYY');\r\n\r\n      if (actividad.fechaFin != null &&  actividad.fechaInicio != actividad.fechaFin) {\r\n        let fechaFin = moment(actividad.fechaFin).add(-1, 'M').locale('es');\r\n        cadena += \" - \" + fechaFin.format('DD') + \" de \" + fechaFin.format('MMMM') + \" del \" + fechaFin.format('YYYY');\r\n      } \r\n    } \r\n   \r\n    return cadena;\r\n  }\r\n\r\n  toArrayDocumentos(answers: object) {\r\n    return Object.keys(answers).map(key => answers[key])\r\n  }\r\n\r\n  toArrayEnlaces(answers: object) {\r\n    return Object.keys(answers).map(key => answers[key])\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.subscriptions.forEach((sb) => sb.unsubscribe());\r\n  }\r\n}\r\n","<div class=\"row\">\r\n  <div class=\"col-md-6\" *ngFor=\"let actividad of list\">\r\n    <div class=\"card card-custom bg-gray-100 card-stretch gutter-b\">\r\n      <!-- Header -->\r\n      <div class=\"card-header border-0 bg-barataria py-5  text-right\">\r\n\r\n            <div class=\"col-md-4 order-2 order-md-1 text-center p-0\" style=\"display: block;margin: auto;\"> \r\n              <img class=\"img-fluid img-thumbnail\" alt=\"Logo\" src={{actividad.imagenServidorBase64}} />\r\n            </div>\r\n        \r\n            <div class=\"col-md-8 order-1 order-md-2\">\r\n                <div class=\"row pb-5\">\r\n                  <div class=\"col-12\">\r\n                    <div ngbDropdown placement=\"bottom-right\" class=\"dropdown dropdown-inline text-right\" title=\"Quick actions\">\r\n                      <div ngbDropdown *ngIf=\"actividad.listDocumentos?.length > 0\" class=\"d-inline-block\">\r\n                        <button class=\"btn btn-transparent-white btn-sm font-weight-bolder dropdown-toggle px-5 dropdown-toggle btn btn-transparent\" id=\"dropdownBasic1\" ngbDropdownToggle>Documentaci√≥n</button>\r\n                        <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownBasic1\" ngbDropdownMenu >\r\n                            <div class=\"p-2\" *ngFor=\"let documento of toArrayDocumentos(actividad.listDocumentos)\">\r\n                              <a (click)=\"download(documento.url, documento.nombre)\" target=\"_blank\">{{documento.nombre}}</a>\r\n                            </div>\r\n                        </div>\r\n                      </div>\r\n          \r\n                      <div ngbDropdown *ngIf=\"actividad.listEnlaces?.length > 0\" class=\"d-inline-block\">\r\n                        <button class=\"btn btn-transparent-white btn-sm font-weight-bolder dropdown-toggle px-5 dropdown-toggle btn btn-transparent ml-2\" id=\"dropdownBasic2\" ngbDropdownToggle>Enlaces</button>\r\n                        <div class=\"dropdown-menu dropdown-menu-right\" aria-labelledby=\"dropdownBasic2\" ngbDropdownMenu >\r\n                          <div class=\"p-2\" *ngFor=\"let enlace of toArrayEnlaces(actividad.listEnlaces)\">\r\n                            <a href=\"{{enlace.url}}\" target=\"_blank\">{{enlace.nombre}}</a>\r\n                          </div>\r\n                        </div>\r\n                      </div>\r\n          \r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"row pt-10\">\r\n                  <div class=\"col-12 text-center mb-5\">\r\n                    <h2 class=\"font-weight-bolder text-white mb-0\">{{actividad.titulo}}</h2>\r\n                    <p class=\"font-weight-bolder mt-4 text-white\">{{ convertDate(actividad) }}</p>\r\n                  </div>\r\n                </div>\r\n            </div>\r\n\r\n      </div>\r\n      <!-- Body -->\r\n      <div class=\"card-body p-0 position-relative overflow-hidden\">\r\n        <div id=\"kt_mixed_widget_1_chart\" class=\"card-rounded-bottom bg-barataria\" [style.height]=\"'50px'\">\r\n        </div>\r\n        <!--begin::Stats-->\r\n        <div class=\"card-spacer mt-n25\">\r\n          <!--begin::Row-->\r\n          <div class=\"row m-0\">\r\n              <div class=\"col bg-white px-6 py-8 rounded-xl mr-7 mb-7\" style=\"border: 3px solid #027762;\">\r\n              <p class=\"text-dark font-weight-bold font-size-h6\">{{actividad.texto}}</p>\r\n            </div>\r\n          </div>\r\n          <!--end::Row-->\r\n        </div>\r\n        <!--end::Stats-->\r\n      </div>\r\n    </div>\r\n  </div>\r\n</div>\r\n ","import { CommonModule } from \"@angular/common\";\r\nimport { NgModule } from \"@angular/core\";\r\nimport { RouterModule } from \"@angular/router\";\r\nimport { NgbDropdown, NgbDropdownModule, NgbModule } from \"@ng-bootstrap/ng-bootstrap\";\r\nimport { NgApexchartsModule } from \"ng-apexcharts\";\r\nimport { InlineSVGModule } from \"ng-inline-svg\";\r\nimport { DropdownMenusModule } from \"src/app/_metronic_portal/partials/content/dropdown-menus/dropdown-menus.module\";\r\nimport { ActividadesComponent } from \"./actividades.component\";\r\n\r\n@NgModule({\r\n    declarations: [ActividadesComponent],\r\n    imports: [\r\n      CommonModule,\r\n      RouterModule.forChild([\r\n        {\r\n          path: '',\r\n          component: ActividadesComponent,\r\n        }\r\n      ]),\r\n      DropdownMenusModule,\r\n      InlineSVGModule,\r\n      NgApexchartsModule,\r\n      NgbDropdownModule,\r\n      NgbModule\r\n    ],\r\n  })\r\n  export class ActividadesModule {}"],"sourceRoot":"webpack:///"}